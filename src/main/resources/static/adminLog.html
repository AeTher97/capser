<html>
<head>
    <link rel="stylesheet" type="text/css" href="capsStyle.css">
</head>
<body>
<form action="/log" method="post" id="game_post_form">
    <div>
        <h2>Post a new game</h2>
    </div>
    <div>
        <label for="playerId">PlayerId Id</label>
        <div id="playerId">Loading...</div>
    </div>
    <div>
        <label for="opponentId">Opponent Id</label>
        <div id="opponentId">Loading...</div>
    </div>
    <div>
        <label for="playerScore">Your Score</label>
        <input type="text" name="playerScore" id="playerScore">
    </div>
    <div>
        <label for="opponentScore">Opponent Score</label>
        <input type="text" name="opponentScore" id="opponentScore">
    </div>
    <div>
        <label for="playerSinks">Your Sinks</label>
        <input type="text" name="playerSinks" id="playerSinks">
    </div>
    <div>
        <label for="opponentSinks">Opponent Sinks</label>
        <input type="text" name="opponentSinks" id="opponentSinks">
    </div>
    <div>
        <label>Game Type</label>
        <select name="GameType">
            <option value="SUDDEN_DEATH">Sudden Death</option>
            <option value="OVERTIME">Overtime</option>
        </select>
    </div>
    <div>
        <button>Post a game</button>
    </div>
</form>

<form action="index.html" id="go_back_form">
    <div>
        <button>Go back</button>
    </div>
</form>
<script>var data = null;

var xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function () {
    if (this.readyState === 4) {
        console.log(this.responseText);
        document.getElementById("playerId").innerHTML = this.responseText;
        document.getElementById("opponentId").innerHTML = this.responseText;
    }
});

xhr.open("GET", "/playerIdsAndNames");
xhr.setRequestHeader("User-Agent", "PostmanRuntime/7.15.0");
xhr.setRequestHeader("Accept", "*/*");
xhr.setRequestHeader("Cache-Control", "no-cache");
xhr.setRequestHeader("Postman-Token", "261bb4e1-ce3c-42c6-9a4a-2a2cbb387aaf,d09d24ad-be63-47b3-94e2-0a3f79aca57a");
xhr.setRequestHeader("Host", "localhost:8888");
xhr.setRequestHeader("accept-encoding", "gzip, deflate");
xhr.setRequestHeader("Connection", "keep-alive");
xhr.setRequestHeader("cache-control", "no-cache");

xhr.send(data);
</script>
</body>
</html>