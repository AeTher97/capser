(this["webpackJsonpadministrator-panel"]=this["webpackJsonpadministrator-panel"]||[]).push([[0],{170:function(e,a,t){e.exports=t(235)},175:function(e,a,t){},234:function(e,a,t){e.exports=t.p+"static/media/BankGothicRegular.7ba4f092.ttf"},235:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(12),o=t.n(l),c=(t(175),t(6)),s=t(284),i=t(285),u=t(91),m=t(10),d=t(275),p=Object(d.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},"@global":{"*::-webkit-scrollbar":{width:"0"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.00)"},"*::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",outline:"1px solid slategrey"}},menuButton:Object(m.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),drawer:{width:240,flexShrink:0},name:{fontFamily:"BankGothicRegular",flexGrow:1},drawerPaper:{width:240},selector:{justifyContent:"right"},content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar,logo:{maxWidth:50}}})),g=t(242),E=t(132),b=t.n(E),f=t(14),h=t(283),v=t(237),y=t(244),w=t(280),x=t(22),S=t.n(x),O=S()((function(e){return{root:{padding:e.spacing(2),justifyContent:"right"},selectEmpty:{marginTop:e.spacing(2)},background:{color:"white"}}})),k=function(e){var a=O();return r.a.createElement("div",{className:a.root},r.a.createElement(v.a,null,r.a.createElement(y.a,{value:e.passedTheme,onChange:e.changeTheme},r.a.createElement(w.a,{value:"dark"},"Dark"),r.a.createElement(w.a,{value:"light"},"Light"))))},j=function(e){var a=p(),t=Object(f.a)(),n=Object(h.a)(t.breakpoints.down("md"));return r.a.createElement(s.a,{position:"fixed",className:a.appBar},r.a.createElement(i.a,null,n&&r.a.createElement(g.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:e.onDrawerToggle,className:a.menuButton},r.a.createElement(b.a,null)),r.a.createElement("img",{src:"pcl_logo_no_text.png",alt:"Global Caps League logo",className:a.logo}),r.a.createElement(u.a,{variant:"h6",noWrap:!0,className:a.name},"Global Caps League"),r.a.createElement("div",{className:a.selector},r.a.createElement(k,{passedTheme:e.theme,changeTheme:e.changeTheme}))))},C=t(316),N=t(286),T=t(288),I=t(279),F=t(241),L=t(287),P=t(289),R=t(29);function D(e){var a=e.icon,t=e.name,n=e.path,l=r.a.useMemo((function(){return r.a.forwardRef((function(e,a){return r.a.createElement(R.b,Object.assign({to:n},e,{ref:a}))}))}),[n]);return r.a.createElement("li",null,r.a.createElement(F.a,{button:!0,component:l,onClick:e.onItemClicked},a?r.a.createElement(N.a,null,a):null,r.a.createElement(L.a,{primary:t})))}var B=function(e){var a=p(),t=Object(f.a)(),n=Object(h.a)(t.breakpoints.down("md")),l=r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement(u.a,{variant:"h6"},"Menu")),r.a.createElement(T.a,null),r.a.createElement(I.a,null,e.menuItems.map((function(a,t){return r.a.createElement(D,Object.assign({},a,{key:t,onItemClicked:e.onMobileDrawerClose}))}))),null!==e.user?r.a.createElement(T.a,null):"",null!==e.user?r.a.createElement(F.a,{button:!0,key:"Sign Out",onClick:function(){e.logout(),e.onMobileDrawerClose()}},r.a.createElement(N.a,null,r.a.createElement(P.a,null)),r.a.createElement(L.a,{primary:"Sign Out"})):"");return n?r.a.createElement(C.a,{variant:"temporary",onClose:e.onMobileDrawerClose,open:e.isMobileDrawerOpen,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},l):r.a.createElement(C.a,{className:a.drawer,variant:"permanent",classes:{paper:a.drawerPaper}},r.a.createElement("div",{className:a.toolbar}),l)},M=t(51),G=t(2),A=Object(n.createContext)(null);function W(e){var a=e.children,t=Object(G.a)(e,["children"]),l=Object(n.useContext)(A).user;return r.a.createElement(M.b,Object.assign({},t,{render:function(e){var t=e.location;return null!=l?a:r.a.createElement(M.a,{to:{pathname:"/login",state:{from:t}}})}}))}var z=t(292),U=Object(d.a)((function(e){return{root:{flexGrow:1},card:{padding:e.spacing(2)},cardTitle:{fontSize:18},sectionTitle:{marginTop:12},row:{display:"flex",flexDirection:"row"},centeredRow:{display:"flex",flexDirection:"row",justifyContent:"center"},appendix:{marginLeft:10}}})),_=t(34),J=t.n(_),q=t(49),H=t(290),V=t(291),Y=Object(d.a)((function(){return{root:{},column:{marginTop:20,display:"flex",flexDirection:"column",justifyContent:"center"},formElement:{marginTop:20},button:{marginTop:40},heading:{textAlign:"center"},loginError:{marginTop:10,color:"red",fontSize:13}}})),$=function(e){var a=Y();return r.a.createElement("div",{className:a.root},r.a.createElement("form",{className:a.column,onSubmit:e.handleSubmit},r.a.createElement(u.a,{variant:"h4",className:a.heading},"Sign In"),r.a.createElement(H.a,{id:"email-field",name:"username",label:"Username",value:e.usernameField.value,onChange:e.usernameField.handleChange,onBlur:e.usernameField.handleBlur,error:!!e.usernameField.errors,helperText:e.usernameField.errors,className:a.formElement}),r.a.createElement(H.a,{id:"password-field",name:"password",label:"Password",type:"password",value:e.passwordField.value,onChange:e.passwordField.handleChange,onBlur:e.passwordField.handleBlur,error:!!e.passwordField.errors,helperText:e.passwordField.errors,className:a.formElement}),r.a.createElement("div",{className:a.loginError},e.loginErrorText),r.a.createElement("div",{style:{textAlign:"right",marginTop:20}},r.a.createElement(V.a,{size:"small",color:"primary",onClick:e.redirectToRegister},"Register")),r.a.createElement(V.a,{color:"primary",variant:"contained",className:a.button,type:"submit"},"Sign in")))};function K(e){var a=null;return e?e.length<3&&(a="Username must be at least 3 characters"):a="Required Username",a}function Q(e){var a=null;return e?e.length<3&&(a="Password must be at least 3 characters"):a="Required Password",a}var X=function(e,a){var t=r.a.useState(e),l=Object(c.a)(t,2),o=l[0],s=l[1],i=r.a.useState(null),u=Object(c.a)(i,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){if(o!==e){var t=a(o);d(t)}}),[o,a,e]),{value:o,handleChange:function(e){s(e.target.value)},errors:m,handleBlur:function(){var e=a(o);d(e)},clearValue:function(){s("")},validate:function(){var e=a(o);return d(e),e}}},Z=t(61),ee=t(40),ae=t(18),te=t.n(ae),ne=function(){function e(){Object(Z.a)(this,e)}return Object(ee.a)(e,[{key:"signIn",value:function(){var e=Object(q.a)(J.a.mark((function e(a,t){var n,r,l,o;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("username",a),n.append("password",t),r="".concat("","/perform/login"),e.prev=4,l=te.a.create(),e.next=8,l.post(r,n,{withCredentials:!0});case 8:return o=e.sent,console.log(o.headers["set-cookie"]),e.abrupt("return",{username:o.data.username,id:o.data.id});case 13:return e.prev=13,e.t0=e.catch(4),console.log("Invalid credentials"),e.abrupt("return",void 0);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(a,t){return e.apply(this,arguments)}}()}]),e}(),re=function(){var e=new ne,a=Object(M.g)(),t=Object(M.h)(),l=Object(n.useContext)(A).setUser,o=(t.state||{from:{pathname:"/"}}).from,s=X("",K),i=X("",Q),u=r.a.useState(""),m=Object(c.a)(u,2),d=m[0],p=m[1],g=function(){var t=Object(q.a)(J.a.mark((function t(n){var r,c,u;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),p(""),r=s.validate(),c=i.validate(),r||c){t.next=16;break}return t.next=7,e.signIn(s.value,i.value);case 7:if(void 0!==(u=t.sent)){t.next=13;break}return s.clearValue(),i.clearValue(),p("Invalid credentials"),t.abrupt("return");case 13:console.log("set users"),l(u),a.replace(o);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement($,{usernameField:s,passwordField:i,loginErrorText:d,redirectToRegister:function(){a.push("/register")},handleSubmit:g})},le=t(31),oe=t.n(le),ce=S()((function(e){return{card:{padding:e.spacing(2),width:500},fullWidthCard:{padding:e.spacing(2),width:"100%"}}})),se=function(){var e=oe()(),a=Object(h.a)(e.breakpoints.down("sm")),t=U(),n=ce();return r.a.createElement("div",{className:t.centeredRow},r.a.createElement(z.a,{className:a?n.fullWidthCard:n.card},r.a.createElement(re,null)))},ie=t(66),ue=t(317),me=t(294),de=t(134),pe=t.n(de),ge=t(295),Ee=t(293),be=Object(d.a)((function(e){return{centeredRow:{display:"flex",justifyContent:"center"}}})),fe=function(){var e=be();return r.a.createElement("div",{className:e.centeredRow},r.a.createElement(Ee.a,{"test-id":"loading-circle"}))},he=t(3),ve=t(314),ye=t(135),we=t.n(ye),xe=function(){var e=Object(f.a)(),a=Object(n.useState)(null),t=Object(c.a)(a,2),l=t[0],o=t[1];return Object(n.useEffect)((function(){var e="".concat("","/stats/version");te.a.get(e).then((function(e){o(e.data.version)}))}),[]),r.a.createElement(u.a,{style:{textAlign:"right",fontSize:12,marginTop:10,color:e.palette.text.disabled}},"Capser build ",Math.round(l).toFixed(2)," Made with Love by Mike")},Se=function(e){oe()();var a=Oe(),t=r.a.useState(!1),n=Object(c.a)(t,2),l=n[0],o=n[1],s=function(e){return function(a,t){o(!!t&&e)}},i=function(){return r.a.createElement(u.a,{variant:"subtitle2"},"Points change")},m=function(e,t){if(null!==t)return t<0?r.a.createElement("div",null,r.a.createElement(u.a,{variant:"subtitle2",className:a.loser},e," ",Math.floor(t))):r.a.createElement("div",null,r.a.createElement(u.a,{variant:"subtitle2",className:a.winner},e," +",Math.floor(t)))},d=!!e.games&&e.games.toIndexedSeq().map((function(t,n){var o=new Date(t.gameDate);return r.a.createElement(ue.a,{key:n,expanded:l===n,onChange:s(n)},r.a.createElement(me.a,{expandIcon:r.a.createElement(pe.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},"SUDDEN_DEATH"===t.gameType?r.a.createElement(u.a,{className:a.headingColumn},"Sudden Death"):"","OVERTIME"===t.gameType?r.a.createElement(u.a,{className:a.headingColumn},"Overtime"):"",r.a.createElement("div",{className:a.headingColumn},r.a.createElement(u.a,null,r.a.createElement("span",{style:t.winner===t.playerName?{color:"lime"}:{color:"red"}},t.playerName),r.a.createElement("span",null," vs "),r.a.createElement("span",{style:t.winner===t.opponentName?{color:"lime"}:{color:"red"}},t.opponentName))),r.a.createElement(u.a,{className:a.headingColumn},o.toLocaleString("en-US"))),r.a.createElement(ge.a,{className:a.details},r.a.createElement("div",{className:a.column},r.a.createElement(u.a,{variant:"subtitle2",className:a.subtitleText},"Score ",t.playerScore," : ",t.opponentScore),r.a.createElement(u.a,{variant:"subtitle2",className:a.subtitleText},"Rebuttals ",t.playerRebuttals," : ",t.opponentRebuttals),r.a.createElement(u.a,{variant:"subtitle2",className:a.subtitleText},"Sinks ",t.playerSinks," : ",t.opponentSinks)),r.a.createElement("div",{className:a.column},null!==t.playerPointsChange?i():"",m(t.playerName,t.playerPointsChange),m(t.opponentName,t.opponentPointsChange)),r.a.createElement("div",{className:Object(he.a)(a.column,a.helper)},r.a.createElement(u.a,{variant:"subtitle2",className:a.subtitleText},"Player profiles"),r.a.createElement(u.a,{variant:"subtitle2",onClick:function(){return e.viewPlayer(t.playerId)},className:Object(he.a)(a.subtitleText,a.link)},t.playerName),r.a.createElement(u.a,{variant:"subtitle2",onClick:function(){return e.viewPlayer(t.opponentId)},className:Object(he.a)(a.subtitleText,a.link)},t.opponentName))))}));return r.a.createElement("div",null,r.a.createElement(F.a,null,e.isLoading||0===e.games.size?"":r.a.createElement(u.a,{variant:"h5"},"Games")),e.isLoading?r.a.createElement(fe,null):d,0!==e.games.size||e.isLoading?"":r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(we.a,{width:100,height:100,style:{color:"red"}}),r.a.createElement(u.a,{variant:"h5",style:{color:"red"}},"No games")),r.a.createElement(ve.a,{showFirstButton:!0,showLastButton:!0,className:a.pagination,count:e.pageNumber,page:e.page,onChange:e.handleChange,color:"primary",variant:"outlined",shape:"rounded"}),r.a.createElement(xe,null))},Oe=S()((function(e){return{root:{width:"100%"},headingColumn:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},subtitleText:{color:e.palette.text.secondary},winner:{color:"lime"},loser:{color:"red"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},details:{alignItems:"center"},column:{flexBasis:"32%"},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{cursor:"pointer",textDecoration:"underline"}},pagination:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:20}}})),ke=function(e){var a,t=Object(n.useState)(new ie.a),l=Object(c.a)(t,2),o=l[0],s=l[1],i=Object(n.useState)(!0),u=Object(c.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(null),g=Object(c.a)(p,2),E=g[0],b=g[1],f=Object(n.useState)(0),h=Object(c.a)(f,2),v=h[0],y=h[1],w=Object(M.g)(),x=r.a.useState(1),S=Object(c.a)(x,2),O=S[0],k=S[1];return Object(n.useEffect)((function(){var t="";console.log("tutaj"),null===e.id&&(t="".concat("","/stats/games?pageSize=10&pageNumber=").concat(O-1)),null!==e.id&&(t="".concat("","/stats/games?pageSize=10&pageNumber=").concat(O-1,"&id=").concat(e.id)),te.a.get(t,{withCredentials:!0}).then((function(e){a=e.data.content,y(e.data.totalPages),d(!1);var t=new ie.a,n=0;a.forEach((function(e){t=t.set(n,e),n+=1})),s(t),d(!1)})).catch((function(e){console.log(e.message),b(e),d(!1)}))}),[O]),r.a.createElement("div",null,console.log("no xd"),r.a.createElement(Se,{games:o,isLoading:m,error:E,page:O,viewPlayer:function(e){console.log(e),w.push("/profile?id=".concat(e))},handleChange:function(e,a){k(a),d(!0)},pageNumber:v}),r.a.createElement("div",{style:{height:200}}))},je=function(){return r.a.createElement(ke,{id:null})},Ce=t(296),Ne=t(319),Te=t(137),Ie=t.n(Te),Fe=t(318),Le=t(297),Pe=t(298),Re=function(e){Object(f.a)();var a=De(),t=!!e.players&&e.players.toIndexedSeq().map((function(t,l){var o=l;o=o+1+10*(e.page-1);var c=new Date(t.lastGame),s=null;if(null!==t.lastGame){var i=new Date;s=Math.floor(c.getTime()/864e5)-Math.floor(i.getTime()/864e5)}return r.a.createElement("div",{key:l},r.a.createElement(F.a,{alignItems:"flex-start"},r.a.createElement(Ce.a,null,r.a.createElement(Fe.a,{title:r.a.createElement("div",null,r.a.createElement(u.a,{variant:"subtitle2"},"Games Won ",t.gamesWon),r.a.createElement(u.a,{variant:"subtitle2"},"Games Lost ",t.gamesLost),r.a.createElement(u.a,{variant:"subtitle2"},"Average Rebuttals ",Math.round(t.averageRebottles).toFixed(2)),r.a.createElement(u.a,{variant:"subtitle2"},"Win/Loss Ratio ",Math.round(t.winLossRatio).toFixed(2)),r.a.createElement(u.a,{variant:"subtitle2"},"Sinks Made To Lost Ratio ",Math.round(t.sinksMadeToLostRatio).toFixed(2)),r.a.createElement(u.a,{variant:"subtitle2"},"Naked Laps ",Math.round(t.sinksMadeToLostRatio).toFixed(2))),arrow:!0},r.a.createElement(Ne.a,{alt:"Remy Sharp",src:"/avatar.jfif"}))),r.a.createElement(L.a,{primary:r.a.createElement(u.a,{variant:"h6",onClick:function(){return e.viewPlayer(t.id)},className:a.link},o," ",t.name),secondary:r.a.createElement(r.a.Fragment,null,"Points ",Math.floor(t.points))}),n(t,s),r.a.createElement(Le.a,null,t.nakedLap?r.a.createElement(Fe.a,{title:"Naked lap warning",TransitionComponent:Pe.a},r.a.createElement(Ie.a,{style:{color:"red"}})):"")),l+1!==e.players.size?r.a.createElement(T.a,{variant:"inset",component:"li"}):"")})),n=function(e,t){return null!==e.lastGame&&0!==t?r.a.createElement(u.a,{variant:"subtitle2"},"Last game ",t," days ago"):0===t?r.a.createElement(u.a,{className:a.text,variant:"subtitle2"},"Last game today"):1===t?r.a.createElement(u.a,{variant:"subtitle2"},"Last one day ago"):""};return r.a.createElement("div",null,r.a.createElement(F.a,null,e.isLoading?"":r.a.createElement(u.a,{variant:"h5"},"Players")),r.a.createElement(I.a,{className:a.root},e.isLoading?r.a.createElement(fe,null):t),r.a.createElement(ve.a,{showFirstButton:!0,showLastButton:!0,className:a.pagination,count:e.pageNumber,page:e.page,onChange:e.handleChange,color:"primary",variant:"outlined",shape:"rounded"}),r.a.createElement(xe,null))},De=S()((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,borderWidth:.5},mixColor:{backgroundColor:e.palette.background.paper},headingColumn:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},subtitleText:{color:e.palette.text.secondary},column:{flexBasis:"32%"},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{cursor:"pointer",textDecoration:"underline"}},pagination:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:20},text:{marginTop:17,marginRight:20}}})),Be=function(){var e,a=Object(n.useState)(new ie.a),t=Object(c.a)(a,2),l=t[0],o=t[1],s=Object(n.useState)(!0),i=Object(c.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)(null),p=Object(c.a)(d,2),g=p[0],E=p[1],b=Object(n.useState)(0),f=Object(c.a)(b,2),h=f[0],v=f[1],y=Object(M.g)(),w=r.a.useState(1),x=Object(c.a)(w,2),S=x[0],O=x[1];Object(n.useEffect)((function(){"".concat("","/stats/version");var a="".concat("","/stats/players?pageSize=10&pageNumber=").concat(S-1);te.a.get(a,{withCredentials:!0}).then((function(a){e=a.data.content,v(a.data.totalPages),m(!1);var t=new ie.a,n=0;e.forEach((function(e){t=t.set(n,e),n+=1})),o(t),m(!1)})).catch((function(e){console.log(e.message),E(e),m(!1)}))}),[S]);return r.a.createElement("div",null,r.a.createElement(Re,{players:l,isLoading:u,error:g,page:S,viewPlayer:function(e){console.log(e),y.push("/profile?id=".concat(e))},handleChange:function(e,a){O(a),m(!0)},pageNumber:h}),r.a.createElement("div",{style:{height:200}}))},Me=function(){return r.a.createElement(Be,null)},Ge=t(246),Ae=t(146),We=t(138),ze=t.n(We),Ue=t(139),_e=t.n(Ue),Je=t(140),qe=t.n(Je),He=t(141),Ve=t.n(He),Ye=t(142),$e=t.n(Ye),Ke=Object(d.a)((function(){return{root:{display:"flex",alignItems:"center",padding:20},icon:{color:"#fff"},text:{marginLeft:20,color:"#fff"},error:{backgroundColor:"#f44336"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},success:{backgroundColor:"#4caf50"}}})),Qe=function(e){var a=Ke();return r.a.createElement(Ae.a,{elevation:6,className:ze()(a.root,a[e.severity])},function(e){switch(e){case"error":return r.a.createElement(_e.a,{className:a.icon});case"warning":return r.a.createElement(qe.a,{className:a.icon});case"info":return r.a.createElement(Ve.a,{className:a.icon});case"success":return r.a.createElement($e.a,{className:a.icon});default:return null}}(e.severity),r.a.createElement(u.a,{"test-id":"alert-text",className:a.text},e.message))},Xe=function(e){var a=e.error;return!!a&&r.a.createElement(Qe,{message:a.message,severity:"error"})},Ze=t(243),ea=Object(d.a)((function(){return{root:{},column:{display:"flex",flexDirection:"column",justifyContent:"center"},select:{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:20},formElement:{marginTop:20},button:{marginTop:40},heading:{marginTop:20,marginBottom:20,textAlign:"center"},loginError:{marginTop:10,color:"red",fontSize:13}}})),aa=function(e){var a=ea();return r.a.createElement("form",{className:a.root,onSubmit:e.handleSubmit},e.isLoading?r.a.createElement(fe,null):r.a.createElement("div",null,r.a.createElement(Xe,{error:e.gameError}),e.success?r.a.createElement(Qe,{message:"Success",severity:"success"}):"",r.a.createElement(u.a,{variant:"h4",className:a.heading},"Add a game"),r.a.createElement(v.a,{className:a.select},r.a.createElement(Ge.a,{id:"select-opponent"},"Opponent"),r.a.createElement(y.a,{onChange:e.changeOpponent,labelId:"select-opponent",value:e.opponent},e.players.map((function(e){return r.a.createElement(w.a,{key:e.name,value:e.id},e.name)}))),r.a.createElement(Ze.a,null,r.a.createElement("span",{style:{color:"red"}},e.opponentHelperText))),r.a.createElement(v.a,{className:a.select},r.a.createElement(Ge.a,{id:"select-game-type"},"Game Type"),r.a.createElement(y.a,{onChange:e.changeGameType,labelId:"select-game-type",value:e.gameType},r.a.createElement(w.a,{value:"suddenDeath"},"Sudden Death"),r.a.createElement(w.a,{value:"overtime"},"Overtime")),r.a.createElement(Ze.a,null,r.a.createElement("span",{style:{color:"red"}},e.gameTypeHelperText)),r.a.createElement(H.a,{id:"player-score-field",name:"playerScore",label:"Your Score",onChange:e.playerScoreField.handleChange,onBlur:e.playerScoreField.handleBlur,error:!!e.playerScoreField.errors,helperText:e.playerScoreField.errors,className:a.formElement}),r.a.createElement(H.a,{id:"opponent-score-field",name:"opponentScore",label:"Opponent Score",onChange:e.opponentScoreField.handleChange,onBlur:e.opponentScoreField.handleBlur,error:!!e.opponentScoreField.errors,helperText:e.opponentScoreField.errors,className:a.formElement}),r.a.createElement(H.a,{id:"player-sinks",name:"playerSinks",label:"Your Sinks",onChange:e.playerSinksField.handleChange,onBlur:e.playerSinksField.handleBlur,error:!!e.playerSinksField.errors,helperText:e.playerSinksField.errors,className:a.formElement}),r.a.createElement(H.a,{id:"opponent-sinks",name:"opponentSinks",label:"Opponent Sinks",onChange:e.opponentSinksField.handleChange,onBlur:e.opponentSinksField.handleBlur,error:!!e.opponentSinksField.errors,helperText:e.opponentSinksField.errors,className:a.formElement}),r.a.createElement("div",{className:a.loginError},e.loginErrorText),r.a.createElement(V.a,{color:"primary",variant:"contained",className:a.button,type:"submit"},"Submit"))))};function ta(e){var a=null;return parseInt(e)<0?a="Points cannot be less than zero":/^\d+$/.test(e)||(a="This field can only contain numbers"),a}function na(e){var a=null;return parseInt(e)<0?a="Sinks cannot be less than zero":/^\d+$/.test(e)||(a="This field can only contain numbers"),a}var ra=function(){var e=r.a.useState(!0),a=Object(c.a)(e,2),t=a[0],l=a[1],o=r.a.useState(null),s=Object(c.a)(o,2),i=s[0],u=s[1],m=Object(n.useContext)(A).user,d=r.a.useState([]),p=Object(c.a)(d,2),g=p[0],E=p[1];Object(n.useEffect)((function(){var e="".concat("","/stats/all/players");te.a.get(e,{withCredentials:!0}).then((function(e){l(!1),E(e.data)})).catch((function(e){console.log(e.message),l(!1)}))}),[]);var b=r.a.useState(""),f=Object(c.a)(b,2),h=f[0],v=f[1],y=r.a.useState(""),w=Object(c.a)(y,2),x=w[0],S=w[1],O=r.a.useState(!1),k=Object(c.a)(O,2),j=k[0],C=k[1],N=r.a.useState(""),T=Object(c.a)(N,2),I=T[0],F=T[1],L=r.a.useState(""),P=Object(c.a)(L,2),R=P[0],D=P[1],B=X("",ta),M=X("",ta),G=X("",na),W=X("",na),z=function(){var e="".concat("","/action/log"),a="";"suddenDeath"===h?a="SUDDEN_DEATH":"overtime"===h&&(a="OVERTIME");var t={playerId:m.id,opponentId:x,playerScore:B.value,opponentScore:M.value,playerSinks:G.value,opponentSinks:W.value,gameType:a};console.log(t),te.a.post(e,t,{withCredentials:!0}).then((function(e){C(!0)})).catch((function(e){console.log(e.message),u("Error posting game to server")}))},U=function(){var e=Object(q.a)(J.a.mark((function e(a){var t,n,r,l;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),C(!1),u(null),D(""),F(""),""===h&&D("Select Game Type"),""===x&&F("Select Opponent"),!(parseInt(B.value)>parseInt(G.value))){e.next=10;break}return u({message:"You cannot score more than you sank!"}),e.abrupt("return");case 10:if(!(parseInt(M.value)>parseInt(W.value))){e.next=13;break}return u({message:"Opponent cannot score more than they sank!"}),e.abrupt("return");case 13:if(t=B.validate(),n=M.validate(),r=G.validate(),l=W.validate(),t||n||r||l||""===h||""===x){e.next=53;break}if(m.username!==x.name){e.next=21;break}return u({message:"You cannot play against yourself!"}),e.abrupt("return");case 21:if("suddenDeath"!==h){e.next=34;break}if(!(parseInt(B.value)>11||parseInt(M.value)>11)){e.next=25;break}return u({message:"Player score cannot be more than 11 points!"}),e.abrupt("return");case 25:if(!(11===parseInt(B.value)&&11!==parseInt(M.value)||11!==parseInt(B.value)&&11===parseInt(M.value))){e.next=30;break}z(),console.log("posted"),e.next=32;break;case 30:return u({message:"Sudden death game has to end with one of the players having 11 points!"}),e.abrupt("return");case 32:e.next=52;break;case 34:if("overtime"!==h){e.next=52;break}if(!(parseInt(B.value)>11||parseInt(M.value)>11)){e.next=45;break}if(parseInt(B.value)-2!==parseInt(M.value)&&parseInt(B.value)!==parseInt(M.value)-2){e.next=41;break}z(),console.log("posted"),e.next=43;break;case 41:return u({message:"Overtime game has to end with one of the players 2 points more than other and more than 10 points!"}),e.abrupt("return");case 43:e.next=52;break;case 45:if(!(parseInt(B.value)-1>parseInt(M.value)||parseInt(B.value)<parseInt(M.value)-1)){e.next=50;break}z(),console.log("posted"),e.next=52;break;case 50:return u({message:"Overtime game has to end with one of the players 2 points more than other and more than 10 points!"}),e.abrupt("return");case 52:console.log("set users");case 53:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(aa,{opponent:x,gameType:h,playerScoreField:B,opponentScoreField:M,playerSinksField:G,opponentSinksField:W,idLoading:t,players:g,gameError:i,success:j,opponentHelperText:I,gameTypeHelperText:R,changeGameType:function(e){v(e.target.value)},changeOpponent:function(e){S(e.target.value)},handleSubmit:U})},la=S()((function(e){return{card:{padding:e.spacing(2),width:"100%"},fullWidthCard:{padding:e.spacing(2),width:"100%"}}})),oa=function(){var e=oe()(),a=Object(h.a)(e.breakpoints.down("sm")),t=U(),n=la();return r.a.createElement("div",{className:t.centeredRow},r.a.createElement(z.a,{className:a?n.fullWidthCard:n.card},r.a.createElement(ra,null)))},ca=t(143),sa=t.n(ca),ia=t(5),ua=t.n(ia),ma=t(304),da=t(305),pa=t(313),ga=t(303),Ea=t(312);function ba(e){var a=e.children,t=e.value,n=e.index,l=Object(G.a)(e,["children","value","index"]),o=Object(f.a)();return r.a.createElement(u.a,Object.assign({component:"div",role:"tabpanel",hidden:t!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},l,{style:{backgroundColor:o.palette.background.default}}),t===n&&r.a.createElement(Ea.a,{p:3},a))}var fa=t(299),ha=t(300),va=t(301),ya=t(302),wa=function(e){return r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(fa.a,{"aria-label":"simple table"},r.a.createElement(ha.a,null,r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Points"),r.a.createElement(ya.a,null,e.user.points)),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Games Played"),r.a.createElement(ya.a,null,e.user.gamesPlayed)),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Games Won"),r.a.createElement(ya.a,null,e.user.gamesWon)),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Games Lost"),r.a.createElement(ya.a,null,e.user.gamesLost)),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Win To Loss Ratio"),r.a.createElement(ya.a,null,e.user.winLossRatio)),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Average Rebuttals"),r.a.createElement(ya.a,null,e.user.averageRebottles)),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Total Points Made"),r.a.createElement(ya.a,null,e.user.totalPointsMade)),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Total Points Lost"),r.a.createElement(ya.a,null,e.user.totalPointsLost)),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Total Sinks Made"),r.a.createElement(ya.a,null,e.user.totalSinksMade)),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Total Sinks Lost"),r.a.createElement(ya.a,null,e.user.totalSinksLost)),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Sinks Made To Lost Ratio"),r.a.createElement(ya.a,null,e.user.sinksMadeToLostRatio)))))},xa=function(e){var a=Object(f.a)(),t=Object(h.a)(a.breakpoints.down("sm"));function n(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var l=new Date(e.user.lastSeen),o=Sa();return r.a.createElement(z.a,{className:e.smallScreen?o.fullWidthCard:o.card},e.isLoading?r.a.createElement(fe,null):r.a.createElement("div",{className:t?{}:o.flexWrapper},r.a.createElement("div",{className:o.mainColumn},r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement(Ne.a,{alt:"Remy Sharp",src:"/avatar.jfif",style:{height:"12vw",width:"12vw",justifyContent:"center"}})),r.a.createElement(u.a,{variant:"h4"},e.user.name),null!==e.user.lastSeen?r.a.createElement(u.a,{variant:"subtitle2"},"Last active ",l.toLocaleString("en-US")):""),r.a.createElement("div",{className:o.detailsColumn},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(s.a,{position:"static"},r.a.createElement(pa.a,{className:o.navigation,textColor:"primary",classes:{indicator:o.indicator},variant:"fullWidth",value:e.card,onChange:e.handleChange},r.a.createElement(ga.a,Object.assign({icon:r.a.createElement(ma.a,null),label:"Stats"},n(0))),r.a.createElement(ga.a,Object.assign({icon:r.a.createElement(da.a,null),label:"Games"},n(1))))),r.a.createElement(sa.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:e.card,onChangeIndex:e.handleChangeIndex},r.a.createElement(ba,{value:e.card,index:0,dir:a.direction},r.a.createElement(wa,{user:e.user})),r.a.createElement(ba,{value:e.card,index:1,dir:a.direction},r.a.createElement(ke,{id:e.user.id})))))))},Sa=S()((function(e){return{navigation:{with:300,backgroundColor:e.palette.background.default},indicator:{backgroundColor:e.palette.primary.light},card:{padding:e.spacing(2),width:"100%"},flexWrapper:{display:"flex",flex:1,flexDirection:"row"},fullWidthCard:{padding:e.spacing(2),width:"100%"},mainColumn:{flexBasis:"30%",textAlign:"center",marginBottom:20},detailsColumn:{flexBasis:"70%"}}}));ba.propTypes={children:ua.a.node,index:ua.a.any.isRequired,value:ua.a.any.isRequired};var Oa=function(){var e=Object(M.h)(),a=U(),t=Object(n.useState)({}),l=Object(c.a)(t,2),o=l[0],s=l[1],i=Object(n.useState)(!0),u=Object(c.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(0),g=Object(c.a)(p,2),E=g[0],b=g[1],f=new URLSearchParams(Object(M.h)().search);Object(n.useEffect)((function(){var e=null;e=null===f?JSON.parse(localStorage.getItem("user")).id:f.get("id");var a="".concat("","/stats/player?id=").concat(e);te.a.get(a,{withCredentials:!0}).then((function(e){d(!1),s(e.data)})).catch((function(e){console.log(e.message)}))}),[e]);var v=oe()(),y=Object(h.a)(v.breakpoints.down("sm"));return r.a.createElement("div",{className:a.centeredRow},r.a.createElement(xa,{smallScreen:y,isLoading:m,user:o,card:E,handleChange:function(e,a){b(a)},handleChangeIndex:function(e){b(e)}}))},ka=function(){return r.a.createElement(Oa,null)},ja=function(e){var a=e.success;return!!a&&r.a.createElement(Qe,{message:a.message,severity:"success"})},Ca=Object(d.a)((function(){return{root:{},column:{marginTop:20,display:"flex",flexDirection:"column",justifyContent:"center"},formElement:{marginTop:20},button:{marginTop:40},heading:{textAlign:"center"},loginError:{marginTop:10,color:"red",fontSize:13}}})),Na=function(e){var a=Ca();return r.a.createElement("div",{className:a.root},r.a.createElement(Xe,{error:e.submitError}),!0===e.success?r.a.createElement(ja,{success:{message:"Registered successfully!"}}):"",e.success?r.a.createElement("div",{className:a.column},r.a.createElement(V.a,{color:"primary",variant:"contained",className:a.button,onClick:e.redirectToSignIn},"Go to Sign In")):r.a.createElement("form",{className:a.column,onSubmit:e.handleSubmit},r.a.createElement(u.a,{variant:"h4",className:a.heading},"Register"),r.a.createElement(H.a,{id:"email-field",name:"username",label:"New Username",value:e.usernameField.value,onChange:e.usernameField.handleChange,onBlur:e.usernameField.handleBlur,error:!!e.usernameField.errors,helperText:e.usernameField.errors,className:a.formElement}),r.a.createElement(H.a,{id:"password-field",name:"password",label:"New Password",type:"password",value:e.passwordField.value,onChange:e.passwordField.handleChange,onBlur:e.passwordField.handleBlur,error:!!e.passwordField.errors,helperText:e.passwordField.errors,className:a.formElement}),r.a.createElement(H.a,{id:"password-field",name:"password",label:"Repeat Password",type:"password",value:e.repeatPasswordField.value,onChange:e.repeatPasswordField.handleChange,onBlur:e.repeatPasswordField.handleBlur,error:!!e.repeatPasswordField.errors,helperText:e.repeatPasswordField.errors,className:a.formElement}),r.a.createElement("div",{className:a.loginError},e.loginErrorText),r.a.createElement(V.a,{color:"primary",variant:"contained",className:a.button,type:"submit"},"Sign in")))},Ta=function(){var e=Object(M.g)(),a=Object(M.h)(),t=Object(n.useState)(null),l=Object(c.a)(t,2),o=l[0],s=l[1],i=Object(n.useState)(!1),u=Object(c.a)(i,2),m=u[0],d=u[1],p=((a.state||{from:{pathname:"/"}}).from,X("",K)),g=X("",Q),E=X("",Q),b=r.a.useState(""),f=Object(c.a)(b,2),h=f[0],v=f[1],y=function(){var e=Object(q.a)(J.a.mark((function e(a){var t,n,r,l,o;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(null),a.preventDefault(),v(""),t=p.validate(),n=g.validate(),r=E.validate(),g.value===E.value){e.next=9;break}return s({message:"Passwords don't match!"}),e.abrupt("return");case 9:t||n||r||(l={username:p.value,password:g.value,repeatPassword:E.value},o="".concat("","/action/register"),te.a.post(o,l,{withCredentials:!0}).then((function(e){d(!0)})).catch((function(e){console.log(e.message),s({message:"Error while registering!"})})));case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(Na,{usernameField:p,passwordField:g,repeatPasswordField:E,loginErrorText:h,submitError:o,success:m,redirectToSignIn:function(){e.push("/login")},handleSubmit:y})},Ia=S()((function(e){return{card:{padding:e.spacing(2),width:500},fullWidthCard:{padding:e.spacing(2),width:"100%"}}})),Fa=function(){var e=oe()(),a=Object(h.a)(e.breakpoints.down("sm")),t=U(),n=Ia();return r.a.createElement("div",{className:t.centeredRow},r.a.createElement(z.a,{className:a?n.fullWidthCard:n.card},r.a.createElement(Ta,null)))},La=function(){var e=oe()();return r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement(u.a,{variant:"h5"},"10 Commandments of a good caps player")),r.a.createElement("div",{style:{backgroundColor:e.palette.background.paper}},r.a.createElement(fa.a,null,r.a.createElement(ha.a,null,r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Games Played"),r.a.createElement(ya.a,null,"A good caps player can hit any target.")),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Games Won"),r.a.createElement(ya.a,null,"A good caps player can play on any side.")),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Games Lost"),r.a.createElement(ya.a,null,"A good caps player can play in any venue.")),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Win To Loss Ratio"),r.a.createElement(ya.a,null,"A good caps player plays better when drunk.")),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Average Rebuttals"),r.a.createElement(ya.a,null,"A good caps player rebuttles.")),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Total Points Made"),r.a.createElement(ya.a,null,"A good caps player is not afraid of drinking beer.")),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Total Points Lost"),r.a.createElement(ya.a,null,"A good caps player celebrates after scoring.")),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Total Sinks Made"),r.a.createElement(ya.a,null,"A good caps player is a gentleman.")),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Total Sinks Lost"),r.a.createElement(ya.a,null,"A good caps player loves the game of caps.")),r.a.createElement(va.a,{variant:"body1"},r.a.createElement(ya.a,null,"Sinks Made To Lost Ratio"),r.a.createElement(ya.a,null,"This is a game of caps we play with 3 beers."))))))},Pa=function(e){var a=p();return r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.toolbar}),r.a.createElement(M.d,null,r.a.createElement(M.b,{path:"/login"},r.a.createElement(se,null)),r.a.createElement(M.b,{path:"/games"},r.a.createElement(je,null)),r.a.createElement(M.b,{path:"/players"},r.a.createElement(Me,null)),r.a.createElement(M.b,{path:"/register"},r.a.createElement(Fa,null)),r.a.createElement(M.b,{path:"/ten_commandments"},r.a.createElement(La,null)),r.a.createElement(W,{path:"/add"},r.a.createElement(oa,null)),r.a.createElement(W,{path:"/profile"},r.a.createElement(ka,null))))},Ra=t(311),Da=t(307),Ba=t(308),Ma=t(309),Ga=t(310),Aa=t(144),Wa=t(282),za=t(87),Ua=t.n(za),_a=t(306),Ja=t(96),qa=t.n(Ja),Ha=function(){var e=Object(M.g)();return r.a.createElement(Fe.a,{title:"Post game","aria-label":"add",style:{zIndex:999,margin:0,top:"auto",right:50,bottom:50,left:"auto",position:"fixed"}},r.a.createElement(_a.a,{color:"primary",onClick:function(){e.push("/add")}},r.a.createElement(qa.a,null)))};var Va=function(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],l=a[1],o=Object(Aa.a)({palette:{type:"dark",primary:{main:"rgb(255,0,0)"},secondary:Ua.a},status:{danger:"orange"}}),s=Object(Aa.a)({palette:{primary:{main:"rgb(255,0,0)"},secondary:Ua.a},status:{danger:"orange"}}),i=Object(n.useState)((function(){var e=localStorage.getItem("theme");return e?e=JSON.parse(e):o})),u=Object(c.a)(i,2),m=u[0],d=u[1],g=Object(n.useState)((function(){var e=localStorage.getItem("themeName");return e?(d("light"===e?s:o),e):(d(o),"dark")})),E=Object(c.a)(g,2),b=E[0],f=E[1],h=Object(n.useState)((function(){var e=localStorage.getItem("user");return e?e=JSON.parse(e):null})),v=Object(c.a)(h,2),y=v[0],w=v[1],x=p();te.a.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){return null!=e&&401===e.response.status&&(w(null),localStorage.removeItem("user")),Promise.reject(e)})),Object(n.useEffect)((function(){y&&localStorage.setItem("user",JSON.stringify(y))}),[y]),Object(n.useEffect)((function(){m&&(localStorage.setItem("theme",JSON.stringify(m)),localStorage.setItem("themeName",b))}),[m]);var S=y?[{name:y.username,icon:r.a.createElement(Da.a,null),path:"/profile?id="+y.id},{name:"Add Game",icon:r.a.createElement(Ga.a,null),path:"/add"},{name:"Players",icon:r.a.createElement(Ba.a,null),path:"/players"},{name:"Games",icon:r.a.createElement(da.a,null),path:"/games"},{name:"10 Commandments",icon:r.a.createElement(Ma.a,null),path:"/ten_commandments"}]:[{name:"Sign In",icon:r.a.createElement(Da.a,null),path:"/profile"},{name:"Players",icon:r.a.createElement(Ba.a,null),path:"/players"},{name:"Games",icon:r.a.createElement(da.a,null),path:"/games"},{name:"10 Commandments",icon:r.a.createElement(Ma.a,null),path:"/ten_commandments"}];return r.a.createElement(Wa.a,{theme:m},r.a.createElement("div",{className:x.root},r.a.createElement(A.Provider,{value:{user:y,setUser:w}},r.a.createElement(Ra.a,null),r.a.createElement(j,{onDrawerToggle:function(){l(!t)},isDrawerOpen:t,theme:b,changeTheme:function(e){var a=e.target.value;f(a),"dark"===a&&d(o),"light"===a&&d(s)}}),r.a.createElement(R.a,{basename:""},null!==y?r.a.createElement(Ha,null):"",r.a.createElement(B,{menuItems:S,isMobileDrawerOpen:t,onMobileDrawerClose:function(){l(!1)},user:y,logout:function(){console.log("logging out"),localStorage.removeItem("user"),w(null)}}),r.a.createElement(Pa,{items:S})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(234);o.a.render(r.a.createElement(Va,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[170,1,2]]]);
//# sourceMappingURL=main.d5fe5433.chunk.js.map